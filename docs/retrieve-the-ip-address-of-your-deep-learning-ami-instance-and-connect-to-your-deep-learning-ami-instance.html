<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Retrieve the IP Address of Your Deep Learning AMI Instance and Connect to Your Deep Learning AMI Instance | Using AWS EC2 Compute and S3 Storage for Model Fitting</title>
  <meta name="description" content="This is a tutorial for using AWS EC2 cmpute and S3 storage for model fitting via AWWS Management Console." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Retrieve the IP Address of Your Deep Learning AMI Instance and Connect to Your Deep Learning AMI Instance | Using AWS EC2 Compute and S3 Storage for Model Fitting" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a tutorial for using AWS EC2 cmpute and S3 storage for model fitting via AWWS Management Console." />
  <meta name="github-repo" content="IQSS/dss-ec2gui" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Retrieve the IP Address of Your Deep Learning AMI Instance and Connect to Your Deep Learning AMI Instance | Using AWS EC2 Compute and S3 Storage for Model Fitting" />
  
  <meta name="twitter:description" content="This is a tutorial for using AWS EC2 cmpute and S3 storage for model fitting via AWWS Management Console." />
  

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html">
<link rel="next" href="explore-amazon-deep-learning-ami-and-connect-to-a-jupyter-notebook.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; min-height: 1.25em; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; }
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
@media screen {
a.sourceLine::before { text-decoration: underline; color: initial; }
}
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.bn { color: #40a070; } /* BaseN */
code span.fl { color: #40a070; } /* Float */
code span.ch { color: #4070a0; } /* Char */
code span.st { color: #4070a0; } /* String */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.ot { color: #007020; } /* Other */
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.fu { color: #06287e; } /* Function */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code span.cn { color: #880000; } /* Constant */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.ss { color: #bb6688; } /* SpecialString */
code span.im { } /* Import */
code span.va { color: #19177c; } /* Variable */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.op { color: #666666; } /* Operator */
code span.bu { } /* BuiltIn */
code span.ex { } /* Extension */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.at { color: #7d9029; } /* Attribute */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A template for a bookdown website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#table-of-contents"><i class="fa fa-check"></i>Table of Contents</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-and-sources"><i class="fa fa-check"></i>Authors and Sources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="aws-ec2-and-s3-services.html"><a href="aws-ec2-and-s3-services.html"><i class="fa fa-check"></i><b>1</b> AWS EC2 and S3 Services</a><ul>
<li class="chapter" data-level="1.1" data-path="aws-ec2-and-s3-services.html"><a href="aws-ec2-and-s3-services.html#ec2-services"><i class="fa fa-check"></i><b>1.1</b> EC2 Services</a></li>
<li class="chapter" data-level="1.2" data-path="aws-ec2-and-s3-services.html"><a href="aws-ec2-and-s3-services.html#s3-services"><i class="fa fa-check"></i><b>1.2</b> S3 Services</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="set-up-an-aws-account.html"><a href="set-up-an-aws-account.html"><i class="fa fa-check"></i><b>2</b> Set Up an AWS Account</a></li>
<li class="chapter" data-level="3" data-path="launch-an-amazon-deep-learning-amazon-machine-images-ami-instance.html"><a href="launch-an-amazon-deep-learning-amazon-machine-images-ami-instance.html"><i class="fa fa-check"></i><b>3</b> Launch an Amazon Deep Learning Amazon Machine Images (AMI) instance</a></li>
<li class="chapter" data-level="4" data-path="grant-an-ec2-instance-access-to-s3-bucket.html"><a href="grant-an-ec2-instance-access-to-s3-bucket.html"><i class="fa fa-check"></i><b>4</b> Grant an EC2 Instance Access to S3 Bucket</a><ul>
<li class="chapter" data-level="4.1" data-path="grant-an-ec2-instance-access-to-s3-bucket.html"><a href="grant-an-ec2-instance-access-to-s3-bucket.html#create-an-identity-and-access-management-iam-role"><i class="fa fa-check"></i><b>4.1</b> Create an Identity and Access Management (IAM) Role</a></li>
<li class="chapter" data-level="4.2" data-path="grant-an-ec2-instance-access-to-s3-bucket.html"><a href="grant-an-ec2-instance-access-to-s3-bucket.html#attach-an-iam-role-to-an-instance"><i class="fa fa-check"></i><b>4.2</b> Attach an IAM Role to an Instance</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html"><a href="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html"><i class="fa fa-check"></i><b>5</b> Use the Amazon Simple Storage Service (S3) Console to Store and Transfer Your Data</a><ul>
<li class="chapter" data-level="5.1" data-path="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html"><a href="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html#create-a-bucket"><i class="fa fa-check"></i><b>5.1</b> Create a Bucket</a></li>
<li class="chapter" data-level="5.2" data-path="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html"><a href="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html#upload-your-dataset"><i class="fa fa-check"></i><b>5.2</b> Upload Your Dataset</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html"><a href="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html"><i class="fa fa-check"></i><b>6</b> Retrieve the IP Address of Your Deep Learning AMI Instance and Connect to Your Deep Learning AMI Instance</a><ul>
<li class="chapter" data-level="6.1" data-path="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html"><a href="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html#connect-to-your-deep-learning-ami-instance-from-a-windows-machine"><i class="fa fa-check"></i><b>6.1</b> Connect to Your Deep Learning AMI Instance from a Windows Machine</a></li>
<li class="chapter" data-level="6.2" data-path="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html"><a href="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance.html#connect-to-your-deep-learning-ami-instance-from-a-mac-or-linux-machine"><i class="fa fa-check"></i><b>6.2</b> Connect to Your Deep Learning AMI Instance from a Mac or Linux Machine</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="explore-amazon-deep-learning-ami-and-connect-to-a-jupyter-notebook.html"><a href="explore-amazon-deep-learning-ami-and-connect-to-a-jupyter-notebook.html"><i class="fa fa-check"></i><b>7</b> Explore Amazon Deep Learning AMI and Connect to a Jupyter Notebook</a></li>
<li class="chapter" data-level="8" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><i class="fa fa-check"></i><b>8</b> Create and Run a Multi-Layer Perceptron Model Using Neural Networks</a><ul>
<li class="chapter" data-level="8.1" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#install-and-import-dependencies"><i class="fa fa-check"></i><b>8.1</b> Install and Import Dependencies</a></li>
<li class="chapter" data-level="8.2" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#provide-utilities-related-functions"><i class="fa fa-check"></i><b>8.2</b> Provide Utilities-Related Functions</a></li>
<li class="chapter" data-level="8.3" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#read-data-from-s3-and-inspect-the-data"><i class="fa fa-check"></i><b>8.3</b> Read Data from S3 and Inspect the Data</a></li>
<li class="chapter" data-level="8.4" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#perform-the-data-processing-specific-to-neural-networks"><i class="fa fa-check"></i><b>8.4</b> Perform the Data Processing Specific to Neural Networks</a></li>
<li class="chapter" data-level="8.5" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#create-a-multi-layer-perceptron-model-using-neural-networks"><i class="fa fa-check"></i><b>8.5</b> Create a Multi-Layer Perceptron Model Using Neural Networks</a></li>
<li class="chapter" data-level="8.6" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#train-the-multi-layer-perceptron-model"><i class="fa fa-check"></i><b>8.6</b> Train the Multi-Layer Perceptron Model</a></li>
<li class="chapter" data-level="8.7" data-path="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html"><a href="create-and-run-a-multi-layer-perceptron-model-using-neural-networks.html#evaluate-the-multi-layer-perceptron-model"><i class="fa fa-check"></i><b>8.7</b> Evaluate the Multi-Layer Perceptron Model</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="get-the-results-locally.html"><a href="get-the-results-locally.html"><i class="fa fa-check"></i><b>9</b> Get the Results Locally</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using AWS EC2 Compute and S3 Storage for Model Fitting</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="retrieve-the-ip-address-of-your-deep-learning-ami-instance-and-connect-to-your-deep-learning-ami-instance" class="section level1">
<h1><span class="header-section-number">6</span> Retrieve the IP Address of Your Deep Learning AMI Instance and Connect to Your Deep Learning AMI Instance</h1>
<ol start="60" style="list-style-type: decimal">
<li>Open the <strong>Amazon EC2 console</strong>, click <strong>Instances</strong>.</li>
<li>On the <strong>Instances page</strong>, click the Deep Learning Development instance.</li>
<li>In the bottom pane, under <strong>Description</strong> tab, copy the <strong>IPv4 Public IP</strong> to your clipboard and paste the value into a text editor for later use.</li>
</ol>
<div id="connect-to-your-deep-learning-ami-instance-from-a-windows-machine" class="section level2">
<h2><span class="header-section-number">6.1</span> Connect to Your Deep Learning AMI Instance from a Windows Machine</h2>
<p>You will set up an SSH tunnel in your PuTTY client in Windows. For security reasons, the Jupyter notebook is only available on the instance’s local webserver <code>http://localhost:port</code> and is not published on the Internet. To connect to the local webserver on the instance, you can create an SSH tunnel between your computer and the instance (this is also known as port forwarding). If you do not have PuTTY installed on your computer, download it from online.<br />
63. Open <strong>PuTTYgen</strong>.<br />
64. Click <strong>Load</strong>. Open DeepL.pem file.<br />
65. Click <strong>Save private key</strong>. It is fine to save it without a passphrase to protect it. Save it to a safe and accessible location with name DeepL.ppk, for example.<br />
66. Launch <strong>PuTTY</strong> by running the putty.exe file you downloaded.<br />
67. For <strong>Host Name (or IP address)</strong>, type ec2-user@ and then paste the IP address of the instance that you copied earlier. It should look like: <code>ec2-user@11.22.33.44</code>.<br />
68. In the navigation panel, expand <strong>SSH</strong> and click <strong>Auth</strong>.<br />
69. In the <strong>Private key file for authentication box</strong>, browse to the .ppk file that you downloaded earlier, then click <strong>Open</strong>.<br />
70. In the navigation panel, click <strong>Tunnels</strong>.<br />
First, you will forward port 8888 to the remote port 8888 for Jupyter Notebooks:<br />
71. For <strong>Source port</strong>, type: 8888<br />
72. For <strong>Destination</strong>, type: localhost:8888<br />
73. Click <strong>Add</strong>.<br />
The configuration should look like this:</p>
<p><img src="images/forward_ports.png" /></p>
<ol start="74" style="list-style-type: decimal">
<li>Click <strong>Open</strong> to start the session.</li>
<li>If prompted to cache the server’s host key, click <strong>Yes</strong>. If the connection is not successful, the instance might still be launching. Wait two minutes then try connecting again by clicking the PuTTY icon in the top-left corner of the PuTTY window and selecting <strong>Restart session</strong>. If you are prompted for a username, type: ec2-usera.</li>
</ol>
</div>
<div id="connect-to-your-deep-learning-ami-instance-from-a-mac-or-linux-machine" class="section level2">
<h2><span class="header-section-number">6.2</span> Connect to Your Deep Learning AMI Instance from a Mac or Linux Machine</h2>
<ol start="76" style="list-style-type: decimal">
<li>Start a new <strong>Terminal</strong> session on your computer.</li>
<li>Run the following command, replacing <strong>PATH-TO-PEM.pem</strong> with your *<strong>.PEM</strong> key path:</li>
</ol>
<pre class="sourceCode r" id="cb1"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">chmod <span class="dv">400</span> PATH<span class="op">-</span>TO<span class="op">-</span>PEM.pem </a></code></pre>
<p>Example:</p>
<pre class="sourceCode r" id="cb2"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">chmod <span class="dv">400</span> <span class="op">/</span>keys<span class="op">/</span>qwiklabs1234.pem </a></code></pre>
<ol start="78" style="list-style-type: decimal">
<li>Run the following command, replacing the <strong>PATH-TO-PEM.pem</strong> with your *<strong>.PEM</strong> key and replacing <strong>YOUR-IP-ADDRESS</strong> with the <strong>instance IP address</strong> you copied earlier:</li>
</ol>
<pre class="sourceCode r" id="cb3"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">ssh <span class="op">-</span>i PATH<span class="op">-</span>TO<span class="op">-</span>PEM.pem <span class="op">-</span>L <span class="dv">8888</span><span class="op">:</span>localhost<span class="op">:</span><span class="dv">8888</span> </a>
<a class="sourceLine" id="cb3-2" data-line-number="2">ec2<span class="op">-</span>user<span class="op">@</span>YOUR<span class="op">-</span>IP<span class="op">-</span>ADDRESS </a></code></pre>
<p>For example:</p>
<pre class="sourceCode r" id="cb4"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">ssh <span class="op">-</span>i <span class="op">/</span>keys<span class="op">/</span>qwikLABS<span class="op">-</span>L1234<span class="fl">-12345.</span>pem <span class="op">-</span>L <span class="dv">8888</span><span class="op">:</span>localhost<span class="op">:</span><span class="dv">8888</span> </a>
<a class="sourceLine" id="cb4-2" data-line-number="2">ec2<span class="op">-</span>user<span class="op">@</span><span class="dv">11</span>.<span class="dv">22</span>.<span class="fl">33.44</span></a></code></pre>
<ol start="79" style="list-style-type: decimal">
<li>If prompted to continue connecting, type: yes.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="use-the-amazon-simple-storage-service-s3-console-to-store-and-transfer-your-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="explore-amazon-deep-learning-ami-and-connect-to-a-jupyter-notebook.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IQSS/dss-template/edit/master/part_6.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["template.pdf", "template.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
